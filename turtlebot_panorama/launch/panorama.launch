<launch>
  <arg name="pano_ros_server_name" value="pano_server"/>
  <arg name="turtlebot_panorama_name" value="turtlebot_panorama"/>

  <!-- 3d sensor; ensure that the nodelet manager is named camera_nodelet_manager! -->
  <include file="$(find turtlebot_bringup)/launch/3dsensor.launch"/>

  <node name="$(arg pano_ros_server_name)" pkg="pano_ros" type="capture_server.py"/>
  
  <node name="$(arg turtlebot_panorama_name)" pkg="turtlebot_panorama" type="panorama">
    <param name="default_mode" value="1"/>
    <param name="default_pano_angle" value="6.28318530718"/> <!-- 2 * Pi -->
    <param name="default_snap_interval" value="2.0"/>
    <param name="default_rotation_velocity" value="0.3"/>
    <param name="camera_name" value="/camera/rgb"/>
    <param name="bag_location" value="/tmp/turtlebot_panorama.bag"/>
    <remap from="$(arg turtlebot_panorama_name)/cmd_vel" to="cmd_vel_mux/input/navi"/>
  </node>
</launch>
